package com.CMPUT301F22T25.malwarepolymorphism;

import static org.junit.Assert.assertEquals;

import com.CMPUT301F22T25.malwarepolymorphism.features.mealplans.data.FirebaseMealPlanRepository;
import com.CMPUT301F22T25.malwarepolymorphism.features.mealplans.domain.data.MealPlanAttributeBundle;
import com.CMPUT301F22T25.malwarepolymorphism.features.mealplans.domain.entities.MealPlanRecipeMember;
import com.CMPUT301F22T25.malwarepolymorphism.features.recipes.domain.entities.RecipeIngredientMember;

import org.junit.Test;

import java.time.Instant;
import java.util.ArrayList;
import java.util.List;

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * @see <a href="http://d.android.com/tools/testing">Testing documentation</a>
 */
public class ExampleUnitTest {
    @Test
    public void addition_isCorrect() {
        assertEquals(4, 2 + 2);
    }

    // test for mealplanfirestore
    @Test
    public void mealplanfirestore_isCorrect() {
        List<RecipeIngredientMember> ingredients = new ArrayList<>();
        ingredients.add(mockRecipeIngredientMember());
        List<MealPlanRecipeMember> recipeMembers = new ArrayList<>();
        recipeMembers.add(mockMealPlanRecipeMember());
        MealPlanAttributeBundle mockMealPlan = new MealPlanAttributeBundle("id", 1, Instant.now(), recipeMembers, ingredients);
        FirebaseMealPlanRepository firebaseMealPlanRepository = new FirebaseMealPlanRepository();
        firebaseMealPlanRepository.addMealPlan(mockMealPlan);
    }

    private RecipeIngredientMember mockRecipeIngredientMember() {
        return new RecipeIngredientMember("name", 1, "unit", "category");
    }

    private MealPlanRecipeMember mockMealPlanRecipeMember() {
        List<RecipeIngredientMember> recipeIngredientMembers = new ArrayList<>();
        recipeIngredientMembers.add(mockRecipeIngredientMember());
        return new MealPlanRecipeMember("title", 2, 1, recipeIngredientMembers);
    }
}